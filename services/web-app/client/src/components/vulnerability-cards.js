import React from 'react';
import Card from 'react-bootstrap/Card';
import CodeBlock from './display-code';
import 'bootstrap/dist/css/bootstrap.min.css';
import './vuln-cards.css'

function VulnerabilityCards({ vulnerabilities }) { // Expect an array of vulnerabilities

  if (vulnerabilities.length === 0) {
    // Display a message if there are no vulnerabilities
    return (
      <div className="success-message">
        <i className="success-icon fas fa-check-circle"></i> {/* Font Awesome icon */}
        Congratulations, your code looks squeaky clean, and no vulnerabilities were found. You get a seal of approval.
      </div>
    );
  }

  return (
    <div>
      {vulnerabilities.map((vuln, index) => (
        <Card key={index} style={{ backgroundColor: '#21212B', color: '#FFFFFF', padding: 20 }}>
          <Card.Header>{vuln.cwe.cwe_id}: {vuln.cwe.cwe_name}</Card.Header> 
          <Card.Body>
            <Card.Title>Vulnerability Detail</Card.Title>
            <div>
              {vuln.vuln_summary} 
              <CodeBlock codeString={vuln.code_extract} /> 
            </div>
          </Card.Body>
        </Card>
      ))}
    </div>
  );
}

export default VulnerabilityCards;